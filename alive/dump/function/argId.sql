CREATE FUNCTION "argId"(val VARBINARY(255)) RETURNS BIGINT UNSIGNED
BEGIN
 DECLARE id BIGINT UNSIGNED;
 SELECT arg.id INTO id FROM arg WHERE v=val;
 IF id IS NULL THEN
   INSERT INTO arg(v) VALUES (val);
   SET id = LAST_INSERT_ID();
 END IF;
 RETURN id;
END ;;