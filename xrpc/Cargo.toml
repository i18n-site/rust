[package]
name = "xrpc"
version = "0.1.39"
edition = "2024"
license = "MulanPSL-2.0"
repository = "https://github.com/i18n-site/rust.git"
homepage = "https://github.com/i18n-site/rust/tree/dev/xrpc"
description = "Transport-agnostic RPC framework / 传输层无关的RPC框架"
keywords = ["rpc", "volo", "framework", "async", "grpc"]

[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]

[features]
default = []
volo-grpc = ["dep:volo-grpc", "volo"]
volo-http = ["dep:volo-http", "volo", "dep:dashmap", "dep:pilota"]
volo = []

[dev-dependencies]
log = "0.4.28"
static_init = "1.0.4"

[dev-dependencies.log_init]
path = "../log_init"
version = "0.1.27"

[dependencies]
anyhow = "1.0.100"
bytes = "1.10.1"
coarsetime = "0.1.36"
dashmap = { version = "6.1.0", optional = true }
http = "1.3.1"
pilota = { version = "0.12.3", optional = true }
volo-grpc = { version = "0.11.7", optional = true }
volo-http = { version = "0.4.3", optional = true }

[package.metadata.cargo-machete]
ignored = ["volo-http"]